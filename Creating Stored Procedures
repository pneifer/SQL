-- Create a stored procedure to return clients by state, then call the clients in California

DROP PROCEDURE IF EXISTS get_clients_by_state;

DELIMITER $$
CREATE PROCEDURE get_clients_by_state
	(
    state CHAR(2)
    )
BEGIN
	SELECT *
    FROM clients c
    WHERE c.state = state;


-- Create a stored procedure to return invoices for a given client
-- call it get_invoices_by_client
-- Then call all the invoices for the client with client_id '5'

DROP PROCEDURE IF EXISTS get_invoices_by_client;

DELIMITER $$
CREATE PROCEDURE get_invoices_by_client
	(
    client_id int
    )
BEGIN
	SELECT *
    FROM invoices i
    WHERE i.client_id = client_id;
END$$

DELIMITER ;

CALL get_invoices_by_client(5);
